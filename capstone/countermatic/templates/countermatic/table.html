{% extends 'countermatic/base.html' %} {% load static %} {% block content %}
<div class="container">
  <div class="d-flex flex-row bd-highlight mb-3">
    <div class="p-2"><a href="{% url 'countermatic:harvest' %}" class="btn btn-primary"><span>&#8592;</span> Harvest</a></div>
  </div>
  <div class="d-flex flex-column justify-content-center">
    <div class="row">
      <div class="col">
        <div class="d-flex justify-content-center" style="padding-top: 20px;"><img src="{% static 'countermatic/img/data.png' %}" alt="" style="height: 5rem;"></div></div>
        <div class="d-flex justify-content-center"><h3>Harvest Data</h3></div>
    </div>
    <div class="row">
      <div class="col">
        <a
          class="btn btn-primary"
          download="report.xls"
          href="#"
          onclick="return ExcellentExport.excel(this, 'data-table', 'COUNTER_REPORT');"
          >Export to Excel</a
        >
        
        <a
          class="btn btn-primary"
          download="report.csv"
          href="#"
          onclick="return ExcellentExport.csv(this, 'data-table');"
          >Export to CSV</a
        >
      </div>
    </div>
  </div>
  <div class="row">
    <div class="d-flex flex-column justify-content-center">
      <div class="container-table">
        <div class="list_gen" id="title_table">
          <table
            id="data-table"
            class="table table-striped table-hover list"
            width="75%"
          >
            <thead class="thead-dark">
              <tr id="header-row">
                <th scope="col">Platform</th>
                <th scope="col">Database</th>
                <th scope="col">Metric</th>
              </tr>
            </thead>
            <tbody id="table-body"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

{{ json_response|json_script:"json_response" }}
<script src="{% static 'countermatic/data.js' %}"></script>
<script src="{% static 'countermatic/excellentexport.js' %}"></script>
<script defer src="{% static 'countermatic/app_tables.js' %}"></script>
{% endblock %}
